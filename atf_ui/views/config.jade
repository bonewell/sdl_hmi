extends layout

block content
    ul(class="nav nav-tabs")
        if status == "edit"
            each config, i in session.user.config
                if (configIndex == i)
                    li(role="presentation", class="active")
                        a(href="/selectConfig/#{i}") Config#{i+1}
                else
                    li(role="presentation")
                        a(href="/selectConfig/#{i}") Config#{i + 1}

            -if (session.userName != "defaultUser")
                li(role="presentation")
                    a(href="/addConfig") +

    .col-lg-6
        #main_configuration_container(class='main_container')
            form(action='/save',method='post')

                -if (status == "register" && configIndex == 0)
                    p User name
                    .input-group(id="userName")
                        input(name='userName', class="form-control", placeholder="User name")
                        .input-group-addon
                            span.text status
                            .glyphicon.glyphicon-refresh.hidden

                    p User email
                    .input-group
                        input(name='email', class="form-control", placeholder="User email")

                    p User password
                    .input-group(id="password")
                        input(name='password', class="form-control", type="password", placeholder="User password")
                        .input-group-addon
                            span.text status

                p file_path
                .input-group
                    input(name='file_path', class="form-control", value='#{session.user.config[configIndex].file_path}')

                p heartBeat timeout
                .input-group
                    input(name='hb_timeout', class="form-control", value='#{session.user.config[configIndex].hb_timeout}')

                p testRecord folder
                .input-group
                    input(name='testRecord_path', class="form-control", value='#{session.user.config[configIndex].testRecord_path}')

                p Mobile connection string
                .input-group
                    input(name='MOB_connection_str', class="form-control", value='#{session.user.config[configIndex].MOB_connection_str}')

                p HMI connection string
                .input-group
                    input(name='HMI_connection_str', class="form-control", value='#{session.user.config[configIndex].HMI_connection_str}')

                p PerfLog connection string
                .input-group
                    input(name='PerfLog_connection_str', class="form-control", value='#{session.user.config[configIndex].PerfLog_connection_str}')

                p Time for launch SDLProc
                .input-group
                    input(name='launch_time', class="form-control", value='#{session.user.config[configIndex].launch_time}')

                p Client PerfLog connection string
                .input-group
                    input(name='client_PerfLog_connection_str', class="form-control", value='#{session.user.config[configIndex].client_PerfLog_connection_str}')

                p terminal CMD
                .input-group
                    input(name='terminal_name', class="form-control", value='#{session.user.config[configIndex].terminal_name}')

                p SDLStoragePath
                .input-group
                    input(name="SDLStoragePath", class="form-control", value='#{session.user.config[configIndex].SDLStoragePath}')

                p
                input.btn.btn-success(type='submit', value='Save configuration')
                input.btn.btn-warning(type='reset', value='Reset current config')

        a(class='btn btn-default', href='http://localhost:3000') Back
